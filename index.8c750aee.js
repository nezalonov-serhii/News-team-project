const e=document.querySelector(".news__item");console.log(e);const t=document.querySelector("button");console.log(t),async function(){const e=await fetch("https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=ccA9QsXbvrHhGuvowEcHjyxEU2jAukPO");if(e.ok){return(await e.json()).results}throw new Error(e.statusText)}().then((t=>{var n,s;n=e,s=function({title:e,media:t,url:n,published_date:s,section:o,abstract:i}){return`\n            <li class="news__item">\n                <article class="news__article">\n                    <div class="news__wrapper">\n                        <img class="news__img" src="${t[0]["media-metadata"][2].url}" alt="">\n                        <p class="news__category">${o}</p>\n\n                        <button type="button" class=" btn news__add-to-favorite ">\n                        <span class="news__add-to-favorite-btn">Add to favorite\n                           <svg class="news__block-icon active-news-icon" width="16" height="16" viewBox="0 0 37 32">\n                                  <path style="stroke: var(--color1, #4440f7)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="4" stroke-width="2.2857" d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"></path>\n                        </svg></span>\n                                \n                        <span class="news__remove-to-favorite-btn hidden">Remove from favorite\n                        <svg class="item-news__block-icon active-news-icon" width="16" height="16" viewBox="0 0 37 32">\n                        <path style="stroke: var(--color1, #4440f7)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="4" stroke-width="2.2857" d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"></path>\n                        </svg></span>      \n\n\n                        </button>\n                        \n                        \n\n                        \n                    </div>\n                    <div class="new__text-wrapper">\n                    <h2 class=" news__title">${e}</h2>\n                    <p class="news__description">${function(e){let t=e;return t.length>80&&(t=e.slice(0,80)+"..."),t}(i)}</p>\n                    </div>\n                    <div class="news__info">\n                        <span class="news__date">${s}</span>\n                        <a class="news__link-more" href="${n}">Read more</a>\n                    </div>\n                </article>\n            </li>\n    `}(t[7]),n.insertAdjacentHTML("beforeend",s)})),e.addEventListener("click",(function(e){const t=e.target.closest(".news__add-to-favorite"),o=e.target.closest(".news__add-to-favorite-btn"),i=e.target.closest(".news__remove-to-favorite-btn ");if(console.log(t),console.log(o),console.log(i),!t)return;s();let a=t.parentNode.nextElementSibling.nextElementSibling.lastElementChild.textContent;if(console.log(a),!o.classList.contains("hidden"))return o.classList.add("hidden"),void addToFavoriteLocal(t);t.classList.remove("hidden");for(let e=0;e<n.length;e+=1)n[e].uri===a&&n.splice(e,1);localStorage.setItem("newsSection",JSON.stringify(n))}));let n=[];function s(){n=null!==JSON.parse(localStorage.getItem("newsSection"))?JSON.parse(localStorage.getItem("newsSection")):[]}s();document.querySelector("body");
//# sourceMappingURL=index.8c750aee.js.map
