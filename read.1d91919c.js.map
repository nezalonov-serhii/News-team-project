{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-6195549d079ef186.js","src/js/read.js","src/js/favorite/addToFavorite.js","node_modules/@parcel/runtime-js/lib/runtime-d40269ad93a58cd2.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3hZM1\\\":\\\"read.1d91919c.js\\\",\\\"ee16w\\\":\\\"sprite.8c8f8f06.svg\\\",\\\"2A9O9\\\":\\\"read.fa27bab8.js\\\"}\"));","import './refs/refs';\nimport './mobileMenu/mobileMenu';\nimport './mobileMenu/mobileMenuCurrent';\nimport './currentPage/currentPage';\nimport './darkMode/darkMode';\nimport { refs } from './refs/refs';\nimport Sprite from '../images/sprite.svg';\n\nimport { btnAddToFavorite, addToFavoriteLocal } from './favorite/addToFavorite';\n\ninit();\nfunction init() {\n  addEventHandlers();\n\n  renderReadNews();\n}\n\nfunction renderReadNews() {\n  let markup = '';\n\n  const readNews = getDataFromLocalStorage('news');\n\n  if (!readNews) {\n    showErrorSearch();\n    return;\n  }\n\n  const dates = readNews.map(item => item.dayRead);\n\n  if (dates.length < 1) {\n    showErrorSearch();\n  }\n\n  const uniqDates = Array.from(new Set(dates));\n  const filteredDate = uniqDates.filter(date => date !== undefined);\n  const sortedDates = filteredDate.sort((a, b) => b.localeCompare(a));\n\n  for (let i = 0; i < sortedDates.length; i += 1) {\n    const filteredNews = readNews.filter(\n      item => item.dayRead === sortedDates[i]\n    );\n    const cardMarkup = filteredNews.map(item => createNewsCard(item)).join('');\n\n    markup += `<div class=\"read-news__list\">\n      <button class=\"read-news__btn js-read-news-btn\">\n        <span>${uniqDates[i]}</span>\n        <svg><use href=\"${Sprite + '#arrow-down'}\"></use></svg>\n      </button>\n      <ul class=\"news__lists\">\n        ${cardMarkup}\n      </ul>\n    </div>`;\n  }\n\n  refs.readNewsContainer.insertAdjacentHTML('beforeend', markup);\n  addEventHandlers();\n}\n\nfunction addEventHandlers() {\n  const btnsReadMore = document.querySelectorAll('.js-read-news-btn');\n  const btnsAddToFavorite = document.querySelectorAll(\n    '.item-news__add-to-favorite'\n  );\n  const newsLists = document.querySelectorAll('.read-news__list');\n\n  btnsReadMore.forEach(btn =>\n    btn.addEventListener('click', onReadNewsBtnClick)\n  );\n  refs.readNewsContainer.addEventListener('click', addToFavoriteLocal);\n  newsLists.forEach(list => list.addEventListener('click', btnAddToFavorite));\n}\n\nfunction onReadNewsBtnClick({ target }) {\n  target.classList.toggle('isOpen');\n\n  addEventHandlers();\n}\n\nfunction makeReadNewsMarkup(news) {\n  return `<div class=\"read-news__list\">\n    <button class=\"read-news__btn js-read-news-btn\">\n      <span>20/02/2021</span>\n      <svg><use href=\"${Sprite + '#arrow-down'}\"></use></svg>\n    </button>\n  </div>`;\n}\n\nfunction getDataFromLocalStorage(key) {\n  try {\n    const data = localStorage.getItem(key);\n    return data === null ? undefined : JSON.parse(data);\n  } catch (error) {\n    refs.errorSearch.classList.remove('is-hidden');\n    refs.readNewsContainer.classList.add('is-hidden');\n  }\n}\n\nfunction createNewsCard({\n  id,\n  img,\n  title,\n  link,\n  date,\n  category,\n  description,\n  uri,\n  read,\n  favorite,\n}) {\n  // const newsArray = getDataFromLocalStorage('news');\n  // const news = newsArray.find(item => item.id === id);\n  // const isFavorite = news ? true : false;\n\n  return `\n      <li class=\"news__item ${read ? 'opacity' : ''}\">\n        <article class=\"news__article\" id=\"${id}\">\n                    <div class=\"news__wrapper\" >\n                        <img class=\"news__img\" src=\"${img}\" alt=\"\">\n                        <p class=\"news__category\">${category}</p>\n\n                        <button id=remove  type=\"button\" class=\"item-news__add-to-favorite\">\n                          <span class=\"item-news__add-to-favorite-btn\">Add to favorite\n                            <svg class=\"item-news__block-icon active-news-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 37 32\">\n                                    <path style=\"stroke: var(--color1, #4440f7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n                                    </svg></span>\n                                    <span class=\"item-news__remove-to-favorite-btn\" >Remove from favorite\n                                    <svg class=\"item-news__block-icon active-news-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 37 32\">\n\n                                    <path style=\"stroke: var(--color1, #4440f7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n                            </svg>\n                        </button>          \n                    </div>\n                    <div class=\"new__text-wrapper\">\n                    <h2 class=\" news__title\">${title}</h2>\n                    <p class=\"news__description\">${description}</p>\n                    </div>\n                    <div class=\"news__info\">\n                        <span class=\"news__date\">${date}</span>\n                        <a target=\"_blank\" class=\"news__link-more\" href=\"${link}\">Read more</a>\n                        <p class=\"hidden\">${uri}</p>\n                    </div>\n                </article>\n      </li>`;\n}\n\nfunction btnAddToFavorite(event) {\n  const btn = event.target.closest(`.item-news__add-to-favorite`);\n\n  if (!btn) return;\n  isLocalEmpty();\n  let uri =\n    btn.parentNode.nextElementSibling.nextElementSibling.lastElementChild\n      .textContent;\n  if (!btn.classList.contains('hidden-span')) {\n    btn.classList.add('hidden-span');\n\n    addToFavoriteLocal(btn);\n    return;\n  }\n  btn.classList.remove('hidden-span');\n  for (let i = 0; i < newLocalStorage.length; i += 1) {\n    if (newLocalStorage[i].uri === uri) {\n      newLocalStorage.splice(i, 1);\n    }\n  }\n  localStorage.setItem(`newsSection`, JSON.stringify(newLocalStorage));\n}\n\nfunction isLocalEmpty() {\n  if (JSON.parse(localStorage.getItem('news')) === null) {\n    newLocalStorage = [];\n    return;\n  }\n  newLocalStorage = JSON.parse(localStorage.getItem('news'));\n}\n\nfunction addToFavoriteLocal(btn) {\n  const newsSection = {\n    id: btn.closest('.news__article').dataset.id,\n    img: btn.parentNode.childNodes[1].attributes.src.nodeValue,\n    category: btn.parentNode.childNodes[3].innerText,\n    title: btn.parentNode.parentNode.childNodes[3].children[0].innerText,\n    description: btn.parentNode.parentNode.childNodes[3].children[1].innerText,\n    date: btn.parentNode.parentNode.lastElementChild.children[0].innerText,\n    link: btn.parentNode.parentNode.lastElementChild.children[1].attributes[1]\n      .value,\n    favorite: true,\n    read: false,\n    uri: btn.parentNode.nextElementSibling.nextElementSibling.lastElementChild\n      .textContent,\n  };\n  for (let i = 0; i < newLocalStorage.length; i += 1) {\n    if (newLocalStorage[i].uri === newsSection.uri) return;\n  }\n\n  newLocalStorage.push(newsSection);\n  localStorage.setItem(`newsSection`, JSON.stringify(newLocalStorage));\n}\n\n// Створюємо масив \"favorites\" за допомогою методу \"filter\", в якому зберігаємо об'єкти з масиву \"newsSection\",\n// у яких властивість \"favorite\" має значення \"true\".\nconst favorites = JSON.parse(localStorage.getItem('newsSection')).filter(\nitem => item.favorite === 'true'\n);\n\n// Знаходимо всі кнопки з класом \"item-news__add-to-favorite\" та зберігаємо їх у змінну \"addButtons\".\nconst addButtons = document.querySelectorAll('.item-news__add-to-favorite');\n\n// Для кожної кнопки перевіряємо, чи є відповідна стаття у списку улюблених, який зберігається у масиві \"favorites\".\n// Якщо така стаття існує, то додаємо до кнопки клас \"hidden-span\", який приховує кнопку.\naddButtons.forEach(button => {\nconst uri =\nbutton.parentNode.nextElementSibling.nextElementSibling.lastElementChild\n.textContent;\nif (favorites.some(item => item.uri === uri)) {\nbutton.classList.add('hidden-span');\n}\n}) ;\n\n\n\n\n\n \n\n \n\nfunction showErrorSearch() {\n  refs.errorSearch.classList.remove('is-hidden');\n  refs.readNewsContainer.classList.add('is-hidden');\n}\n\n","export function btnAddToFavorite(event) {\n  const btn = event.target.closest(`.item-news__add-to-favorite`);\n\n  if (!btn) return;\n  ///\n\n  const data = localStorage.getItem('news');\n  let newLocalStorage = [];\n\n  if (data) {\n    newLocalStorage = JSON.parse(localStorage.getItem('news'));\n  }\n\n  const newsIndex = newLocalStorage.findIndex(\n    item =>\n      item.id === btn.closest('.news__article').dataset.id ||\n      item.id === btn.closest('.news__article').id\n  );\n\n  btn.classList.toggle('hidden-span');\n\n  if (newsIndex > -1) {\n    newLocalStorage[newsIndex].favorite = !newLocalStorage[newsIndex].favorite;\n    localStorage.setItem(`news`, JSON.stringify(newLocalStorage));\n\n    return;\n  }\n\n  let uri =\n    btn.parentNode.nextElementSibling.nextElementSibling.lastElementChild\n      .textContent;\n\n  // for (let i = 0; i < newLocalStorage.length; i += 1) {\n  //   if (newLocalStorage[i].uri === uri) {\n  //     newLocalStorage.splice(i, 1);\n  //   }\n  // }\n\n  addToFavoriteLocal(btn);\n  // localStorage.setItem(`news`, JSON.stringify(newLocalStorage));\n}\n\nexport function addToFavoriteLocal(btn) {\n  const data = localStorage.getItem('news');\n  let newLocalStorage = [];\n\n  if (data) {\n    newLocalStorage = JSON.parse(localStorage.getItem('news'));\n  }\n\n  const newsIndex = newLocalStorage.findIndex(\n    item =>\n      item.id === btn.closest('.news__article').dataset.id ||\n      btn.closest('.news__article').id\n  );\n\n  if (newsIndex > -1) {\n    newLocalStorage[newsIndex].favorite = !newLocalStorage[newsIndex].favorite;\n    localStorage.setItem(`news`, JSON.stringify(newLocalStorage));\n    return;\n  }\n\n  const news = {\n    id:\n      btn.closest('.news__article').dataset.id ||\n      btn.closest('.news__article').id,\n\n    media: btn.parentNode.childNodes[1].attributes.src.nodeValue,\n    section: btn.parentNode.childNodes[3].innerText,\n    title: btn.parentNode.parentNode.childNodes[3].children[0].innerText,\n    abstract: btn.parentNode.parentNode.childNodes[3].children[1].innerText,\n    published_date:\n      btn.parentNode.parentNode.lastElementChild.children[0].innerText,\n    url: btn.parentNode.parentNode.lastElementChild.children[1].href,\n    read: false,\n    favorite: true,\n\n    uri: btn.parentNode.nextElementSibling.nextElementSibling.lastElementChild\n      .textContent,\n  };\n\n  for (let i = 0; i < newLocalStorage.length; i += 1) {\n    if (newLocalStorage[i].uri === news.uri) return;\n  }\n\n  newLocalStorage.push(news);\n  localStorage.setItem(`news`, JSON.stringify(newLocalStorage));\n}\n\nfunction addReadMore(btn) {\n  const data = localStorage.getItem('news');\n\n  let newLocalStorage = [];\n\n  if (data) {\n    newLocalStorage = JSON.parse(localStorage.getItem('news'));\n  }\n\n  const newsIndex = newLocalStorage.findIndex(\n    item => item.id === btn.closest('.news__article').dataset.id\n  );\n\n  if (newsIndex > -1) {\n    const evenDateNow = new Date();\n\n    newLocalStorage[newsIndex].read = true;\n    newLocalStorage[newsIndex].dayRead = evenDateNow\n      .toLocaleDateString([], options)\n      .replaceAll('.', '/');\n    localStorage.setItem(`news`, JSON.stringify(newLocalStorage));\n    return;\n  }\n\n  const evenDateNow = new Date();\n  const options = { year: 'numeric', month: 'numeric', day: 'numeric' };\n  const readDateNow = evenDateNow\n    .toLocaleDateString([], options)\n    .replaceAll('.', '/');\n  const readNews = {\n    id: btn.parentNode.parentNode.dataset.id,\n    uri: btn.nextElementSibling.textContent,\n    published_date: btn.parentNode.firstElementChild.innerText,\n    media: btn.parentNode.parentNode.childNodes[1].children[0].currentSrc,\n    title: btn.parentNode.parentNode.childNodes[3].children[0].innerText,\n    abstract: btn.parentNode.parentNode.childNodes[3].children[1].innerText,\n    url: btn.parentNode.children[1].href,\n    read: true,\n    favorite: false,\n    section: btn.parentNode.parentNode.childNodes[1].children[1].innerHTML,\n    dayRead: readDateNow,\n  };\n  newLocalStorage.push(readNews);\n\n  localStorage.setItem(`news`, JSON.stringify(newLocalStorage));\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('3hZM1') + require('./helpers/bundle-manifest').resolve(\"ee16w\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$cqmI4","$3d2185c1f4c47af0$export$645e1897db7faa1b","event","btn","target","closest","newLocalStorage","localStorage","getItem","newsIndex","findIndex","item","dataset","classList","toggle","favorite","setItem","stringify","parentNode","nextElementSibling","lastElementChild","textContent","$3d2185c1f4c47af0$export$5c706823fdd1be71","news","media","childNodes","attributes","src","nodeValue","section","innerText","title","children","abstract","published_date","href","read","uri","push","$95b4463fc8ac9448$var$addEventHandlers","btnsReadMore","document","querySelectorAll","newsLists","forEach","addEventListener","$95b4463fc8ac9448$var$onReadNewsBtnClick","refs","readNewsContainer","list","param","$95b4463fc8ac9448$var$isLocalEmpty","contains","add","remove","splice","newsSection","img","category","description","date","link","$6cd7903ba21692e3$exports","getBundleURL","resolve","cardMarkup","readNews","filter","dayRead","sortedDates","map","concat","join","markup","uniqDates","$parcel$interopDefault","key","data","undefined","error","errorSearch","$95b4463fc8ac9448$var$getDataFromLocalStorage","dates","$95b4463fc8ac9448$var$showErrorSearch","Array","from","Set","sort","a","b","localeCompare","i1","_loop","insertAdjacentHTML","$95b4463fc8ac9448$var$renderReadNews","$95b4463fc8ac9448$var$favorites","button","some"],"version":3,"file":"read.1d91919c.js.map"}